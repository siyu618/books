## 实现领域驱动设计

1. 对于软件开发中的任何问题，答案都是”得看情况“。

2. 通用语言是一种团队协作模式，用于捕捉特定业务领域中的概念和术语。
在界限上下文中使用通用语言来表述一个领域模型可以增加业务价值，并且使我们确信所开发软件的正确性。 

3. 通过战略和战术设计而成的领域模型应该是架构中立的。 

4. DDD 首先并不是关于技术的，而是关于讨论、聆听、理解、发现和业务价值的，而这些都是为了将知识集中起来。 

5. 领域模型：是关于某个特定领域的软件模型。通常领域模型通过对象模型来实现，这些对象同时包含了数据和行为，并且表达了准确的业务含义。 

6. 为什么需要DDD？
   * 使领域专家和开发者一起工作，这样开发出来的软件能够准确地传达业务规则。
   * ”准确传达业务规则“是说，此时的软件奖项如果领域专家是编码人员时所开发出来的软件。
   * 可帮助业务人员自我提高。 
   * 关键在于对知识的集中，因为这样可以确保软件知识并不知识掌握在少数人手中。
   * 在领域转件、开发者和软件本身之间不存在”翻译“。
   * 设计就是代码，代码就是设计。
   * 同时提供了战略设计和战术设计两种方式。

7. DDD 如何帮助我们
   * DDD 将领域专辑和开发人员聚集到一起，这样开发出来的软件呢巩固反映出领域专家的思维模型。 
   * DDD 关注业务战略。
   * 通过使用战术设计建模工具，DDD 满足了真正的技术需要。 
   * DDD 的作用是简化而不是复杂化。

8. 如何 DDD ？ 
   * 界限上下文
   * 通用术语   

9. 使用 DDD 的业务价值
   * 获得一个非常有用的领域模型
   * 你的业务得到了更准确的定义和理解
   * 领域专家可以Wie软件设计做出贡献
   * 更好的用户体验
   * 清晰的模型边界
   * 更好的企业架构
   * 敏捷、持续式和持续建模

10. 实施 DDD 所面临的挑战
   * 为创建通用语言腾出的时间和精力
   * 持续地将领域专家引入项目
   * 改变开发者对领域的思考方式

11. 相关概念
   * 领域：一个组织所做的事情以及其中所包含的一切。
   * 子领域：领域的一个有意义的子集。
   * 问题空间：思考业务所面临的挑战，核心域和其他子域的集合。
   * 解决方案空间：包含一个或多个界限上下文，即一组特定的软件模型。
   * 界限上下文：并不只局限于容纳模型，它通常定义了一个系统、一个应用程序或者一种业务服务。
   * 上线文映射图：两个或多个上问问之间的映射关系。
      * 无论你选择做什么，总有人说你是错的，有总有这样那样的困难又是你详细批评你的人是对的。要找到一条正确之路并坚持到最后，你需要的是勇气。

12. 分层：较低层也可以和叫高层发生耦合，但这只局限于采用观察者（observer）模式或者调停者（mediator）模式的情况。

13. 六边形架构（端口与适配器）

14. 最小化集成：在 DDD 项目中通常存在多个界限上下文，这意味着我们需要找到合适的方法对谢谢上下文进行集成。当模型概念从上游上下文流入下游上下文中时，尽量时候用值对象标识这些概念。

15. 持久化值对象
   * 数据建模是次要的，根据领域模型来设计数据模型，而不是根据数据模型来设计领域模型。 

16. 领域服务：处理业务逻辑的

17. 当你发现自己在一个洞穴中时，第一件要做的事，便是停止凿洞。
18. 从领域模型中发布领域事件
   * 聚合的一大原则：在一个事务中，只对一个聚合进行修改。
19. 向远程界限上下文发布领域事件
   * 保证领域模型存储和事件存储之间的一致性的三种方法
      * 1. 领域模型和消息设施共享持久化存储   
      * 2. 领域模型的持久化存储和消息持久化存储由全局 XA 事务（两阶段提交）所控制。
      * 3. 在领域模型的持久化存储中，创建一个特殊的存储区域（比如一张数据库表），该区域同于存储领域事件。

20. 聚合原则
   * 告诉而非询问原则（Tell don't ask）
      * 一个对象不应该被告知如何执行操作
   * 迪米特法则（Law of Demeter）   
      * 强调最小知识原则  
   * 在一致性边界之内建模真正的不变条件
   * 设计小聚合
   * 通过唯一标识引用其他聚合
   * 在边界外使用最终一致性 

21. 聚合根中的工厂方法
   * 好处：有效地表达界限上下文中的通用语言；减轻客户端在创建新聚合实例时的负担；确保所创建的实例处于正确的状态。   

   
22. 资源库
   * 面向集合资源库
   * 面向持久化资源库
   * 资源库 VS DAO
      * DAO 主要从数据库表的角度来看完内，并且提供 CRUD
      * 资源库和数据映射器（Data Mapper）则更加偏向于对象。
23. 集成界限上下文
   * 通过 REST 资源集成界限上下文
   * 通过消息集成上下文

24. 聚合与实践源（A+ES）   
