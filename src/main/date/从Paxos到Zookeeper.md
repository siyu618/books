**Chapter 1:分布式架构 **

1.1 从集中式到分布式
   * 集中式
       * 部署简单
   * 分布式
       * 分布性，对等性，并发性，缺乏全局时钟，故障总是会发生
   * 分布式的各种问题
       * 通信异常
       * 网络分区
       * 三态：成功、失败、超时
      
1.2 从ACID到CAP/BASE
   * ACID
      * Atomicity：全部执行或者全部为执行
      * Consistency：一致性
      * Isolation：隔离性，事务之间是相互隔离的
         * 未授权读取
         * 授权读取
         * 可重复读取
         * 串行化
      * Durability：一旦提交，即是永久
   * CAP
      * 分布式系统不可能同时满足一致性（Consistency）、可用性（Availability）和分区容错（Partion tolerance），最多只能同时满足两个
      * C：多个副本之间保持一致性
      * A：请求在有限时间内返回结果
      * P：遇到网络分区故障时，仍然你需要对外提供满足一致性和可用性的服务，除非是整个网络环境都发生了变化
      * 放弃CAP
         * 放弃P：为了避免系统出现分区容错性问题，简单做法是将所有的数据都放在一个分布式节点上。放弃P的同时，也就放弃了系统的可扩展性
         * 放弃A：放弃可用性是一旦系统遇到网络分区或者其他故障时，那么受到影响的服务需要等待一定的时间，因此在等待恢复的时间里，服务不可用。
         * 放弃C：是指放弃强一致性，从而保留系统的最终一致性
      * 结论
         * 分区容错是一个基本需求
         * 系统架构师需要经历花在如何根据业务特点在C和A之间寻求平衡。
   * BASE
      * 无法做到强一致性，单每个应用都可以根据自身的业务特点，采取适当的方式来时系统达到最终一致性
      * 基本可用（Basically Available）
         * 系统仍然可用
            * 响应时间上的损失
            * 功能上的损失
      * 弱状态/软状态（Soft state）
         * 允许系统当中的数据存在中间状态，并认为该中间状态的存在不会影响系统的整体可用性
      * 最终一致性（Eventually consistent）
         * 强调的是系统中所有的数据副本，在经过一段时间的同步后，最终能够达到一个一致的状态
         * 五种主要变种
            * 因果一致性
            * 读己之所写
            * 会话一致性
            * 单调读一致性
            * 单调写一致性
      * 面向大型高可用可扩展的分布式系统 