# 系统架构：复杂系统的产品设计与开发

## 第一部分：系统思维

### Chapter 1：系统架构简介
* 1. 简介
   * 系统思维（System Thinking）：把某个疑问、某个状况或者难题明确地视为一个系统，也就是一组相互关系的元实体。
   * 人类四种底层思维方式：发散思维、水平思维、收敛思维和系统思维。
      * 发散思维：大脑天马行空，四处发散的一种思维方式。思维导图、创新思维、发散联想。
      * 水平思维：是指从多个方面看待同一个事物的思维方式。六顶思考法、批判性思维、逆向思考。
      * 收敛思维：是一种类似漩涡，将四周零散的点狙击的思维方式。归纳、演绎是仅有的两种思考方式，金字塔原理、结构化思维。
      * 系统思维：以系统理论为基础，是迄今为止人类所掌握的最高级的思维方式。可以看到问题的本质、更有效率的完成手上的工作、也更容易思考清楚。
* 良好架构的优势
   * 互联网公司的中台战略
* 原则
   * 原则是通用的规则与方针，它们是持续有效且很少变化的。原则可以用来为某个组织完成其任务的方式提供指导与支持。然而一个组织从确定价值到开始行动，再到取得成果，确实由一些列经过规则的理念来共同阐述并指引的，在这些理念中，原则知识其中的一个元素而已。
   * 原则要根据实践中的事实作出修改。

### Chapter 2：系统思维
* 简介
   * 认知：能够使用各种思维某事来进行思考。
   * 元认知：意识到自己当前正在使用的是哪一种思维模式。
   * 四种对系统思维有益的任务
      * 1. 确定系统及其形式与功能
      * 2. 确定系统中的实体及其形势与功能，以及系统的边界以及系统所处的环境。
      * 3. 确定系统中各个实体之间的关系以及位于边界的关系，并确定这些关系的形式及功能。
      * 4. 根据实体的功能及功能性的互动来确定系统的涌现属性。
* 系统与涌现
   * 系统
      * 定义：系统是由一组实体和这些实体之间的关系所构成的集合，其功能要大于这些实体各自功能的总和。
         * 系统是由相互作用或相互联系的实体组成的。
         * 实体之间发生相互作用时，或出现一种功能，这种功能大于或不同于这些实体各自所具备的那些功能。
* 涌现
   * **系统架构第一条原则：涌现原则（Principle of Emergence）**
      * 系统并不是其组成物的简单加总，而是这些组成物之间的互动。
      * 整体大于其各部分之和。
      * 特性：
         * 实体之间的加护会导致涌现物。涌现物指的是系统在运行时表现、呈现或浮现出来的东西。系统的附加价值是由涌现物所服务于的。
         * 涌现的结果，使得变化以无法预知的方式进行传播。
         * 一个实体所发生的变化将会如何影响涌现出来的属性，是很难预测的。
         * 能够涌现出预期属性的系统，是成功的系统。不能涌现出预期属性或意外涌现出不良属性的系统，是失败的系统。
* 任务一：确定系统及其形式与功能
   * 形式与功能
      * 形式：系统是设么
      * 功能：系统做什么
   * 工具 - 过程 - 操作数：这是人类的标准思维模式吗？
      * VS. 名词 - 动词 - 名词 的文法。
* 任务二：确定系统中的实体及其形式与功能
   * 确定系统中的实体、实体的形式与功能，以及系统边界和系统所处的黄精。
   * 具备形式与功能的实体
   * 思考 5 个问题：
      * 1. 确定如何将系统初步分解为恰当的实体。
      * 2. 用整体思维找出潜在的实体。
         * 尽量找出未知的不确定物（unknown-unknown）
            * 已知的不确定物：已经知道但是不够了解的。
            * 未知的不确定物：不知道的事物，更没有办法衡量其重要性。
         * **整体原则（Principle of Holism）**
            * 设计时总是应该吧物体放在稍大一些的范围内考虑，吧椅子放在房间中考虑，吧房间放在住宅中考虑，把住宅放在周边环境中考虑，吧周边环境放在城市规划中考虑。
            * 没有谁完全是孤岛。每个人都是独立的一小块，都是主体的一部分。
            * 整体的思考这些关系，并研发出于上级系统、下级系统和平级系统相协调的架构。
               * 整体论认为所有的事物都以整体的形式存在并运作，而不是单单是其各部件的总和。这与化约论（reductionism，还原论）相反，化约论认为我们可以通过仔细研究事物的各个部件来了解该事物。
               * 整体的进行思考，就是要把当前系统的各个方面都涵盖进来，要考虑可能会与该系统进行交互的任何事物给系统所带来的影响及后果。
               * 更简单地说，整体地思考就是把当前所有处理的疑问、状况或难题有关的所有事物（例如实体及关系）都考虑到。
               * 能够激发整体思维的办法包括结构化与非结构化的头脑风暴（brainstorm，脑力激荡）、框架、从不同的视角进行思考，以及对大环境进行考量。
      * 3. 通过对重点的分析，把注意力集中到重要的实体上。
         * **聚焦原则（Principle of Focus）**
            * 我看到的并不比你多，但我已经学会从中发现一些东西。
            * 问题不在于你看什么，而是你看到了什么。
            * 找出最关键、最重要的那些问题，并集中精力思考它们。
               * 在任意时间点，我们都可以通过整体思维，找出影响当前系统的数十个乃至数百个问题。
               * 为了随时能密切关注重要的问题，我们必须学会抛开其他一些问题。
               * 收到关注的那些方面，很少会出差错。
               * 我们要对这一大批问题进行处理货筛选，以找出对当前的时间点或当前运作情况较为重要的那些问题。要集中思考困难的问题，而不要先去解决那些简单的问题。
            * 一般只保留 7 个， 误差两个内。
      * 4. 为实体创建抽象。
         * 抽象的原则：
            * 1. 针对形式和功能创建抽象时，要报重要的信息凸显出来，而把不太重要的细节藏起来。
            * 2. 要创建那种是适当的关系有机会得以表现出来的抽象。
            * 3. 在适当的层面进行分解货聚合，并于该层面创建抽象。
            * 4. 在能够有效表达当前系统的重要方面这一前提下，创建数量尽可能少的抽象。
      * 5. 定义系统的边界，并将其与外界环境隔离开来。
         * 问问题：
            * 1. 把需要分析的实体包括进来
            * 2. 把创建设计方案所必备的要素包括进来
            * 3. 把我们负责实现和操作的东西包括进来
            * 4. 由规章、契约或其他法律所建立的规范边界
            * 5. 能够把系统与大环境区分开的传统做法或习惯做法。
            * 6. 我们必须遵从的一些借口定义或标准，包括供应商之间的关系。
* 任务三：确定实体之间的诶关系，及其功能与形式
   * 关系的形式与功能
      * 功能关系：用来完成某件事情的实体之间所具备的关系。
         * 动态的，也称为协同关系（interaction）
      * 形式关系：是指某段时间内稳定存在或有可能稳定存在的实体之间所具备的关系。
         * 静态的，结构关系（structure）
      * 功能关系通常需要以形式关系为前提，形式关系是功能关系的载体。
   * 外部接口
      * 系统中的实体会和环境中的其他实体发生联系。
* 任务四：涌现
   * 涌现的重要性
      * 系统思维的主要目标：就是努力了解并预测涌现物以及涌现物带给系统的强大能力。
   * 系统故障
      * 预测的涌现物未能出现：
         * 1. 良好的涌现物未能出现
         * 2. 意外的不良涌现物出现了。
   * 预测涌现物
      * 预测的方法
         * 1. 根据先例来预测
         * 2. 做实验
         * 3. 建模
   * 涌现物依赖于实体及其关系         

### Chapter 3：思考复杂系统
* 系统的复杂度
   * 复杂度
      * 复杂的系统定义：复杂的系统是由很多高度相关、高度互联或高度混杂的元素或实体组成的系统。
* 系统的分解
   * 分解：把实体分成小的部件或组成部分。   
      * 难点在于整合。
   * 体系：一种用来理解并思考系统复杂度的强大方法，体系是一种其实体具处于某个层次或某个位阶的系统，这些层次是按照上下顺序排列起来的。 
      * 体系中的一些元素位阶较高
         * 1. 这些元素设计的范围更广
         * 2. 这些元素的重要性较高或性能较强
         * 3. 这些元素在功能上要承担更多的职责
   * 层及分解
   * 简单系统、复杂度适中的系统以及复杂系统
   * 原子部件：凡事一经拆解就失去意义的东西，都可以成为原子部件
* 特殊的逻辑关系
   * 类/实例关系：Class/Object
   * 特化关系：类的继承
   * 地柜
* 对复杂系统进行思考
   * 自顶向下及自底向上的思考
      * 由外向内：由顶部和底部向中间
      * 由内向外：由中间向顶部和底部
   * 交替思考：Zigzagging（交替思考、Z 字形思考），在形式领域和功能领域来回切换
* 架构展示工具：SysML（System Modeling Language） 与 OPM（Object Process Methodology）   
             


## 第二部分：系统架构
* 架构是什么？
   * 架构是把功能元素组合成物理块时所用的编排方式。
   * 架构是一个由部分所组成的整体，这部分之间具备某种关系，当把这些部分拼接起来时，这个整体就会表现出预先设计的意图，并满足某种需求。
   * 架构是系统的基本组织方式，它体现在系统的组件、组件和组件之间、组件和环境之间的关系，以及决定系统和的设计和进化的基本原则上。
   * 架构是对系统所做的一份正式描述，或是在组件级别对系统所做的一份详细规划，用以指导系统的实现。

### Chapter 4：形式
* 对形式的定义有帮助的问题

|问题|解答该问题带来的成果|
|---|---|
|a. 系统是什么？|能够对系统的形式进行抽象的对象|
|b. 系统的主要形式元素是什么？|在分解后的系统中，能够展现系统之下第一层抽象的一系列对象（他它们有时候还可以展现出系统之下第二层的抽象）|
|c. 形式结构是什么？|位于任何分解层面上的那些对象之间的空间关系和连接关系|
|d. 伴生系统是什么？整个产品系统是什么？|在整个产品系统中对价值体现着关键作用的一系列对象，一节这些关键对象与伴生系统之间的关系|
|e. 系统的边界是什么？接口是什么？|对系统与环境之间的边界所做的清晰定义，以及对接口所做的定义|
|f. 使用情景是什么？|虽然对价值挑衅病不起关键作用，但是却能够确立系统地位、给功能提供信息，并对设计造成的一系列的影响|

* 架构中的形式
   * 形式

### Chapter 5：功能

### Chapter 6：系统架构

### Chapter 7：与特定解决方案无关的功能

### Chapter 8：从概念到架构

## 第三部分：创建系统架构

### Chapter 9：架构师的角色
* 架构师的三个职责：
   * 减少歧义、界定范围
   * 创造新的概念
   * 管理复杂度

### Chapter 10：上游和下游对系统架构的影响
* 上游的影响因素：公司策略、营销、法规及类似法规的因素、技术融合
* 下游的影响因素：实现（编码、制作及供应链管理）、操作、Design for X、产品与系统的演化、产品系列
* 产品论证：架构商业论证决策框架（ABCD，Architecture Bussiness Case Design） 

### Chatper 11：将需求转换为目标
* 确定利益相关者
* 描述需求的特征
* 将需求转换为目标
* 排列目标之间的优先级

### Chapter 12：用创造力生成新的概念
* 提出概念
* 扩充概念并提出概念片段
* 演化并完善整体概念
* 选出几个整体概念，做进一步的发展

### Chapter 13：使用分解的方式管理复杂度
* 理解复杂度：表面复杂度/实际复杂度
* 管理复杂度：分解
   * 2 上 1 下原则：向前走两步决策第一步
   * 《使用视点和视角与利益相关者合作》

## 第四部分：作为决策的架构

### Chapter 14：作为决策制定过程的系统架构
* 决策支持系统的四项主要任务
   * 展示层
   * 结构层
   * 模拟层
   * 查看层

      
### Chapter 15：探求架构的权衡空间
* 帕累托前沿

### Chapter 16：系统架构优化问题的表示与求解
* 系统架构决策中的模式
   * Decision-Option
   * Down-Selectiing
   * Assingining
   * Partitioning
   * Permuting
   * Connecting

* 解决系统架构优化问题
   * 全因子排列
   * 启发式架构优化算法
   * 基于种群的通用启发式优化


